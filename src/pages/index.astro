---
import Layout from "@/layouts/Layout.astro";
import Card from "@/components/Card.astro";
import Social from "@/components/Social.astro";
import HowOldSite from "@/components/howOldSite.astro";
import { useTranslations, useTranslatedPath } from "@/i18n/utils";
import AstroLogo from "@/data/img/astro.svg";
import { getLocale } from "astro-i18n-aut";
import { siteConfig } from "@/config";

const giturl = siteConfig.urls.giturl || "https://git.new/I3vys7Q";

// Language
const lang = getLocale(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<Layout title={t('index.title')} activeNav="koti" isFooter={false}>
	<main>
		<a
			href={giturl}
			class="github-corner"
			aria-label="View source on GitHub"
		>
			<svg
				width="80"
				height="80"
        viewBox="0 0 250 250"
        fill="#151513"
				style="position: absolute; top: 0; border: 0; right: 0;"
				aria-hidden="true"
      >
        <path d="M0 0l115 115h15l12 27 108 108V0z"></path>
        <path
					d="M128.3 109c-14.5-9.3-9.3-19.4-9.3-19.4 3-6.9 1.5-11 1.5-11-1.3-6.6 2.9-2.3 2.9-2.3 3.9 4.6 2.1 11 2.1 11-2.6 10.3 5.1 14.6 8.9 15.9"
					fill="#fff"
					style="transform-origin: 130px 106px;"
          class="octo-arm"></path><path
					d="M115 115c-.1.1 3.7 1.5 4.8.4l13.9-13.8c3.2-2.4 6.2-3.2 8.5-3-8.4-10.6-14.7-24.2 1.6-40.6 4.7-4.6 10.2-6.8 15.9-7 .6-1.6 3.5-7.4 11.7-10.9 0 0 4.7 2.4 7.4 16.1 4.3 2.4 8.4 5.6 12.1 9.2 3.6 3.6 6.8 7.8 9.2 12.2 13.7 2.6 16.2 7.3 16.2 7.3-3.6 8.2-9.4 11.1-10.9 11.7-.3 5.8-2.4 11.2-7.1 15.9-16.4 16.4-30 10-40.6 1.6.2 2.8-1 6.8-5 10.8L141 136.5c-1.2 1.2.6 5.4.8 5.3z"
          fill="#fff">
        </path>
			</svg>
    </a>
    <AstroLogo></AstroLogo>

		<h1 transition:name="hero_text">
			<span class="text-gradient main animate__animated animate__bounceIn"
				>{t('index.h1.title')}</span
			>
		</h1>
		
    <p
			class="holidays halloween-time animate__animated animate__bounceIn"
		>
		</p>
		<p class="instructions animate__animated animate__bounceIn">
			Olen tehnyt tämän sivun kun tuli kiinnostuksen kohteeksi tämän rakentaminen. Minut
			löytää <Social href="https://ggl.link/3bM14PP" platform="YT">Youtubesta</Social> ja minulle
			voi myös lähettää palautetta osoitteeseen: <a class="email-link" href="mailto:info@ozze.eu.org?subject=Haluaisin%20Kysy%C3%A4..." title="Send Me email">info@ozze.eu.org</a>
			<!-- <HowOldSite lang={lang} time={[2024, 5, 27]} /> -->
		<ul class="link-grid animate__animated animate__bounceIn">
			<Card
				href={translatePath('/images')}
				title={t('nav.images')}
				body={t('nav.images.desc')}
				transition:name="images"
			/>
			<Card href={siteConfig.oldSite} title="Vanha Nettisivu" body={t('nav.oldsite')} />
			<Card
				href={translatePath('/blog')}
				title={t('nav.blog')}
				body={t('nav.blog.desc')}
			/>
			</ul>
	</main>
  <script src="@/ts/pages/index.mts"></script>
</Layout>
<style>
	main {
		margin: auto;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: white;
		line-height: 1.6;
  }
  .holidays {
    display: block; 
    position: absolute; 
    visibility: hidden; 
  }
	.astro-a {
		position: absolute;
		top: -32px;
		left: 50%;
		transform: translatex(-50%);
		width: 220px;
		height: auto;
		z-index: -1;
	}
	h1 {
		font-size: 5rem;
		font-weight: 700;
		line-height: 1;
    text-align: center;
    transform: translateY(0.6rem);
		margin-bottom: 1em;
  }
  p {
    font-size: 20px;
  }
  ul {
    font-size: 20px;
  }
	.text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.instructions {
		margin-bottom: 0.5rem;
		border: 1px solid rgba(var(--accent-light), 25%);
		background: linear-gradient(rgba(var(--accent-dark), 66%), rgba(var(--accent-dark), 33%));
		padding: 1.5rem;
		border-radius: 8px;
    max-width: max-content;
    z-index: 0;
	}
	/* .instructions code {
    	font-size: 0.8em;
    	font-weight: bold;
    	background: rgba(var(--accent-light), 12%);
    	color: rgb(var(--accent-light));
    	border-radius: 4px;
    	padding: 0.3em 0.4em;
    }
    .instructions strong {
    	color: rgb(var(--accent-light));
    } */
	.link-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 0.5rem;
    padding: 0;
    z-index: 0;
	}

	.email-link {
		background: linear-gradient(
			90deg,
			/* rgba(0, 0, 255, 0.6), */ rgba(255, 0, 0, 0.3),
			rgba(47, 255, 0, 0.3)
		);
		/* 		-webkit-backdrop-filter: blur(50) saturate(2.2);
		backdrop-filter: blur(50) saturate(2.2); */
		border-radius: 5px;
		text-decoration: underline;
		font-family: system-ui, sans-serif;
	}
	
	.github-corner:hover .octo-arm {
		animation: octocat-wave 560ms ease-in-out;
	}
	@keyframes octocat-wave {
		0%,
		100% {
			transform: rotate(0);
		}
		20%,
		60% {
			transform: rotate(-25deg);
		}
		40%,
		80% {
			transform: rotate(10deg);
		}
  }
  .github-corner {
    z-index: 0;
  }
	@media (max-width: 500px) {
		.github-corner:hover .octo-arm {
			animation: none;
		}
		.github-corner .octo-arm {
			animation: octocat-wave 560ms ease-in-out;
		}
	}
</style>
