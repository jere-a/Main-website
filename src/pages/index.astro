---
import Layout from '@/layouts/Layout.astro';
import Card from '@/components/Card.astro';
import Social from '@/components/Social.astro';
import HowOldSite from '@/components/howOldSite.astro';
import { useTranslations, useTranslatedPath } from '@/i18n/utils';
import { getLocale } from 'astro-i18n-aut';
import Email from '@/components/links/Email.astro';
import { siteConfig } from '@/config';

// Language
const lang = getLocale(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<Layout title={t('index.title')} activeNav="koti">
	<main>
		<a
			href="https://git.new/I3vys7Q"
			class="github-corner z-0"
			aria-label="View source on GitHub"
		>
			<svg
				width="80"
				height="80"
				viewBox="0 0 250 250"
				style="fill:#151513; position: absolute; top: 0; border: 0; right: 0;"
				aria-hidden="true"
				><path d="M0 0l115 115h15l12 27 108 108V0z"></path><path
					d="M128.3 109c-14.5-9.3-9.3-19.4-9.3-19.4 3-6.9 1.5-11 1.5-11-1.3-6.6 2.9-2.3 2.9-2.3 3.9 4.6 2.1 11 2.1 11-2.6 10.3 5.1 14.6 8.9 15.9"
					fill="#fff"
					style="transform-origin: 130px 106px;"
					class="octo-arm"></path><path
					d="M115 115c-.1.1 3.7 1.5 4.8.4l13.9-13.8c3.2-2.4 6.2-3.2 8.5-3-8.4-10.6-14.7-24.2 1.6-40.6 4.7-4.6 10.2-6.8 15.9-7 .6-1.6 3.5-7.4 11.7-10.9 0 0 4.7 2.4 7.4 16.1 4.3 2.4 8.4 5.6 12.1 9.2 3.6 3.6 6.8 7.8 9.2 12.2 13.7 2.6 16.2 7.3 16.2 7.3-3.6 8.2-9.4 11.1-10.9 11.7-.3 5.8-2.4 11.2-7.1 15.9-16.4 16.4-30 10-40.6 1.6.2 2.8-1 6.8-5 10.8L141 136.5c-1.2 1.2.6 5.4.8 5.3z"
					fill="#fff"
					class="octo-body"></path>
			</svg>
		</a>
		<svg
			class="astro-a z-0"
			width="495"
			height="623"
			viewBox="0 0 495 623"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			aria-hidden="true"
		>
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M167.2 364.3C83.5 364.3 0 404.8 0 404.8l142-386C146.4 7.3 153 0 162.3 0h170.2c9.3 0 16 7.3 20.2 18.7l142 386s-68-40.6-167.2-40.6l-63-194.8c-2.4-9.4-9.3-15.8-17-15.8s-14.7 6.4-17 15.8l-63 194.8zm-6.3 166c0 0 0 0 0 0h0zm-24.7-118.8c-11.7 39-3.5 93 24.7 118.8l.4-1.4.7-2.6c3.5-16.3 16.8-26.7 33.7-26.2 16.4.5 25 8.8 27.6 27.2 1 7 1 14 1 21v2.2a80 80 0 0 0 12.9 43.6c8 12.5 18.8 22 33.5 28.6l-.4-1.4-.7-2.2c-10.8-33-3-55.6 25.7-75l8.8-5.8 19.2-13c22.6-16.7 36.8-38.7 40.2-67.2a77 77 0 0 0-3.6-34.6l-4.8 3-9.7 5.7c-42 20.6-86.2 23-131.4 16.3-29.2-4.4-57.4-12.2-77.8-37z"
				fill="url(#A)"></path>
			<defs>
				<linearGradient
					id="A"
					x1="247.358"
					y1="0"
					x2="247.358"
					y2="622.479"
					gradientUnits="userSpaceOnUse"
				>
					<stop stop-opacity="0.9"></stop>
					<stop offset="1" stop-opacity="0.2"></stop>
				</linearGradient>
			</defs>
		</svg>

		<h1>
			<span class="text-gradient main animate__animated z-0 animate__bounceIn"
				>{t('index.h1.title')}</span
			>
		</h1>
		<section>
			<p
				class="holidays absolute invisible block halloween-time animate__animated animate__bounceIn"
			>
			</p>
			<p class="instructions animate__animated animate__bounceIn z-0">
				Olen tehnyt tämän sivun kun tuli kiinnostuksen kohteeksi tämän rakentaminen. Minut
				löytää <Social href="https://ggl.link/3bM14PP" platform="YT">Youtubesta</Social> ja minulle
				voi myös lähettää palautetta osoitteeseen: <Email
					href="mailto:info@ozze.eu.org?subject=Haluaisin%20Kysy%C3%A4..."
					>info@ozze.eu.org</Email
				> <HowOldSite lang={lang} time={[2024, 5, 27]} />
		</section>
		<section>
			<ul role="list" class="link-grid animate__animated animate__bounceIn z-0">
				<Card
					href={translatePath('/images/')}
					title={t('nav.images')}
					body={t('nav.images.desc')}
					transition:name="images"
				/>
				<Card href={siteConfig.oldSite} title="Vanha Nettisivu" body={t('nav.oldsite')} />
				<Card
					href={translatePath('/blog/')}
					title={t('nav.blog')}
					body={t('nav.blog.desc')}
				/>
			</ul>
		</section>
	</main>
</Layout>
<script src="@/ts/pages/index.mts"></script>
<script>
  import global from '@/ts/global-code';
  global();
</script>
<style>
	main {
		margin: auto;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}
	.astro-a {
		position: absolute;
		top: -32px;
		left: 50%;
		transform: translatex(-50%);
		width: 220px;
		height: auto;
		z-index: -1;
	}
	h1 {
		font-size: 4rem;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin-bottom: 1em;
	}
	.text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.instructions {
		margin-bottom: 0.5rem;
		border: 1px solid rgba(var(--accent-light), 25%);
		background: linear-gradient(rgba(var(--accent-dark), 66%), rgba(var(--accent-dark), 33%));
		padding: 1.5rem;
		border-radius: 8px;
		max-width: max-content;
	}
	/* .instructions code {
    	font-size: 0.8em;
    	font-weight: bold;
    	background: rgba(var(--accent-light), 12%);
    	color: rgb(var(--accent-light));
    	border-radius: 4px;
    	padding: 0.3em 0.4em;
    }
    .instructions strong {
    	color: rgb(var(--accent-light));
    } */
	.link-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 0.5rem;
		padding: 0;
	}

	.github-corner:hover .octo-arm {
		animation: octocat-wave 560ms ease-in-out;
	}
	@keyframes octocat-wave {
		0%,
		100% {
			transform: rotate(0);
		}
		20%,
		60% {
			transform: rotate(-25deg);
		}
		40%,
		80% {
			transform: rotate(10deg);
		}
	}
	@media (max-width: 500px) {
		.github-corner:hover .octo-arm {
			animation: none;
		}
		.github-corner .octo-arm {
			animation: octocat-wave 560ms ease-in-out;
		}
	}
</style>
