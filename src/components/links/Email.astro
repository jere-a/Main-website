---
/* function htmlEntities(string): string {
	return string
		.split('')
		.map((char) => `&#${char.charCodeAt(0)};`)
		.join('');
} */

import '@/global.css';
interface Props {
	href: string;
	args?: ParameterDecorator;
}

const { href, args } = Astro.props;

// Email

// const output = JScrewIt.encode('mailto:info@ozze.eu.org?subject=Haluaisin%20Kysy%C3%A4...');

// const email_enc = btoa("window.location.href='" + href + "'");

// const email = "javascript:eval(eval(atob('" + email_enc + "')))";
---

<a class="email-link email-font" href={href} title="Send Me email" {...args}><slot /></a>

<script>
  import { mainAllComponents } from '@/ts/components';
  const main = () => { mainAllComponents('email'); };

  document.addEventListener('DOMContentLoaded', main);
  document.addEventListener('astro:page-load', main);
</script>
<style>
	.email-font {
		font-family:
			ui-sans-serif,
			system-ui,
			-apple-system,
			BlinkMacSystemFont,
			'Segoe UI',
			Roboto,
			'Helvetica Neue',
			'Noto Sans',
			'Liberation Sans',
			sans-serif,
			'Apple Color Emoji',
			'Segoe UI Emoji',
			'Segoe UI Symbol',
			'Noto Color Emoji';
	}

	.email-link {
		background: linear-gradient(
			90deg,
			/* rgba(0, 0, 255, 0.6), */ rgba(255, 0, 0, 0.3),
			rgba(47, 255, 0, 0.3)
		);
		/* 		-webkit-backdrop-filter: blur(50) saturate(2.2);
		backdrop-filter: blur(50) saturate(2.2); */
		border-radius: 5px;
		text-decoration: underline;
	}
</style>
